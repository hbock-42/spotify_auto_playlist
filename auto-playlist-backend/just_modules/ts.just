# TypeScript Development Recipes
# ================================


# Check TypeScript types without emitting files
[group('typescript')]
type-check:
    @echo "ğŸ” Running TypeScript type checking..."
    pnpm type-check

# Run ESLint to check for code issues
[group('typescript')]
lint:
    @echo "ğŸ”§ Running ESLint..."
    pnpm lint

# Fix ESLint issues automatically
[group('typescript')]
lint-fix:
    @echo "ğŸ”§ Fixing ESLint issues..."
    pnpm lint:fix

# Format code with Prettier
[group('typescript')]
format:
    @echo "ğŸ’„ Formatting code with Prettier..."
    pnpm format

# Check if code is properly formatted
[group('typescript')]
format-check:
    @echo "ğŸ’„ Checking code formatting..."
    pnpm format:check

# Run all quality checks (type-check + lint + format-check)
[group('typescript')]
check:
    @echo "âœ… Running all quality checks..."
    pnpm check

# Build TypeScript to JavaScript
[group('typescript')]
build:
    @echo "ğŸ—ï¸ Building TypeScript..."
    pnpm build

# Clean build artifacts
[group('typescript')]
clean:
    @echo "ğŸ§¹ Cleaning build artifacts..."
    rm -rf dist/
    rm -rf *.tsbuildinfo

# Development server with hot reload
[group('typescript')]
dev:
    @echo "ğŸš€ Starting development server..."
    pnpm dev

# Production server
[group('typescript')]
start:
    @echo "ğŸŒŸ Starting production server..."
    pnpm start

# Generate OpenAPI documentation
[group('typescript')]
openapi:
    @echo "ğŸ“š Generating OpenAPI documentation..."
    pnpm generate-openapi

# Full quality check and build pipeline
[group('typescript')]
ci: check build
    @echo "âœ¨ CI pipeline completed successfully!"

# Quick development workflow - format, check, and run
[group('typescript')]
quick: format check dev

# Fix all auto-fixable issues
[group('typescript')]
fix: lint-fix format
    @echo "ğŸ”§ Fixed all auto-fixable issues!"